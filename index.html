<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Earn Pro | Global Secure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;900&display=swap');
        body { background: #010409; color: white; font-family: 'Outfit', sans-serif; overflow: hidden; }
        .hidden-sec { display: none !important; }
        .glass { background: rgba(13, 17, 23, 0.8); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.08); border-radius: 28px; }
        .blue-grad { background: linear-gradient(135deg, #1d4ed8, #3b82f6); }
        
        /* LIVE WALLPAPER EFFECT */
        .bg-animate { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; 
            background: radial-gradient(circle at 50% 50%, #1e293b 0%, #010409 100%); opacity: 0.5; }
        .bg-dots { position: absolute; width: 100%; height: 100%; background-image: radial-gradient(#ffffff0a 1px, transparent 1px); background-size: 30px 30px; animation: move 60s linear infinite; }
        @keyframes move { from { background-position: 0 0; } to { background-position: 1000px 1000px; } }

        #side-menu { transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); z-index: 10000; }
        .ticker-wrap { white-space: nowrap; animation: ticker 30s linear infinite; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
    </style>
</head>
<body class="h-screen flex flex-col">
    <div class="bg-animate"><div class="bg-dots"></div></div>

    <div id="layer-auth" class="fixed inset-0 z-[11000] bg-[#010409] flex items-center justify-center p-6">
        <div id="auth-box" class="glass w-full max-w-sm p-10 space-y-6">
            <h2 id="auth-title" class="text-3xl font-black text-center text-blue-500 tracking-tighter uppercase">Register</h2>
            <div class="space-y-4">
                <input type="text" id="reg-name" placeholder="Full Name" class="w-full p-5 bg-slate-900 rounded-2xl border border-white/5">
                <input type="email" id="reg-email" placeholder="Email Address" class="w-full p-5 bg-slate-900 rounded-2xl border border-white/5">
                <input type="password" id="reg-pass" placeholder="Password" class="w-full p-5 bg-slate-900 rounded-2xl border border-white/5">
                <button onclick="sendOTP()" class="w-full blue-grad py-5 rounded-2xl font-black uppercase text-xs">Verify Email</button>
                <p onclick="toggleAuth()" class="text-center text-[10px] text-slate-500 font-bold cursor-pointer uppercase">Login Existing Account</p>
            </div>
        </div>

        <div id="otp-box" class="hidden-sec glass w-full max-w-sm p-10 text-center">
            <i class="fas fa-shield-halved text-5xl text-blue-500 mb-6"></i>
            <h2 class="text-xl font-black uppercase">Verify OTP</h2>
            <p class="text-[10px] text-slate-500 my-4 uppercase">Check your gmail for code</p>
            <input type="text" id="otp-val" placeholder="· · · · · ·" class="w-full p-5 bg-slate-900 rounded-2xl text-center text-2xl font-black tracking-widest border border-blue-500/30">
            <button onclick="finishAuth()" class="w-full blue-grad py-5 rounded-2xl font-black mt-6 uppercase">Confirm & Start</button>
        </div>
    </div>

    <div id="side-menu" class="fixed inset-y-0 left-0 w-80 bg-slate-950 transform -translate-x-full border-r border-white/5 p-8 flex flex-col">
        <div class="flex justify-between items-center mb-10">
            <span class="font-black text-blue-500 tracking-widest text-xs uppercase">Global Navigation</span>
            <button onclick="toggleMenu()"><i class="fas fa-times text-xl text-slate-500"></i></button>
        </div>
        <div class="grid grid-cols-2 gap-3">
            <button onclick="nav('home')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-home text-blue-400"></i>Home</button>
            <button onclick="nav('task')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-play text-green-400"></i>Work Area</button>
            <button onclick="nav('withdraw')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-wallet text-amber-400"></i>Withdraw</button>
            <button onclick="nav('history')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-history text-purple-400"></i>Record</button>
            <button onclick="nav('reviews')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-star text-yellow-400"></i>Reviews</button>
            <button onclick="nav('privacy')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-shield-alt text-red-400"></i>Guide</button>
            <button onclick="nav('settings')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fas fa-cog text-slate-400"></i>Settings</button>
            <button onclick="window.open('https://wa.me/923096090737')" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2"><i class="fab fa-whatsapp text-green-500"></i>WhatsApp</button>
            <button onclick="location.reload()" class="glass p-5 text-[10px] font-black flex flex-col items-center gap-2 text-red-500 col-span-2 mt-4 uppercase">Logout System</button>
        </div>
    </div>

    <div id="int-main" class="h-full flex flex-col hidden-sec">
        <header class="p-6 flex justify-between items-center bg-[#010409]/60 backdrop-blur-md sticky top-0 z-50">
            <button onclick="toggleMenu()" class="text-blue-500"><i class="fas fa-bars-staggered text-xl"></i></button>
            <span class="font-black text-xs tracking-[4px] uppercase">Digital Earn Pro</span>
            <div onclick="openAdmin()" class="w-10 h-10 blue-grad rounded-full border border-white/10 flex items-center justify-center cursor-pointer shadow-lg">
                <span class="text-[9px] font-black">ADMIN</span>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto p-6 pb-28 space-y-6">
            <div class="glass py-2 overflow-hidden bg-blue-500/5 border-blue-500/10">
                <div class="ticker-wrap text-[9px] font-black text-blue-400 uppercase tracking-widest">
                    User BK-386 joined Diamond Plan... New Withdrawal Rs. 4,500 via EasyPaisa... User SA-102 joined Basic Plan... Global Reset at 12:00 PM...
                </div>
            </div>

            <div id="view-home" class="view-sec space-y-6">
                <div class="blue-grad p-10 rounded-[40px] shadow-2xl relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"></div>
                    <p class="text-[10px] font-bold opacity-70 uppercase tracking-widest">Global Balance</p>
                    <h1 class="text-5xl font-black mt-2 tracking-tighter">Rs. <span id="user-bal">0.00</span></h1>
                    <p id="user-plan-tag" class="text-[8px] mt-4 bg-white/10 w-max px-3 py-1 rounded-full font-bold uppercase">Plan: None</p>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="glass p-6 text-center">
                        <i class="fas fa-chart-line text-blue-500 mb-2"></i>
                        <h4 class="text-xl font-black" id="stat-tasks">0</h4>
                        <p class="text-[8px] font-black opacity-40 uppercase">Daily Limit</p>
                    </div>
                    <div class="glass p-6 text-center">
                        <i class="fas fa-users text-blue-500 mb-2"></i>
                        <h4 class="text-xl font-black">0</h4>
                        <p class="text-[8px] font-black opacity-40 uppercase">Referrals</p>
                    </div>
                </div>

                <div class="glass p-6 text-center">
                    <p class="text-[9px] font-black opacity-50 uppercase mb-2">System Rating</p>
                    <div class="flex justify-center gap-1 text-yellow-500 text-lg mb-1">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="text-[8px] font-bold uppercase tracking-widest">4.9/5 Global Trust</p>
                </div>
            </div>

            <div id="view-task" class="view-sec hidden-sec space-y-4">
                <div id="task-locked" class="glass p-12 text-center border-amber-500/20">
                    <i class="fas fa-lock text-5xl text-amber-500 mb-6"></i>
                    <h3 class="text-xl font-black uppercase">Restricted Access</h3>
                    <p class="text-[10px] text-slate-500 mt-4 leading-relaxed uppercase">Select a Plan & Pay Registration fee to unlock tasks</p>
                    <div class="space-y-3 mt-8">
                        <div class="p-4 bg-white/5 rounded-2xl border border-white/5 flex justify-between items-center">
                            <div><p class="text-xs font-black">BASIC</p><p class="text-[8px] opacity-50">10 TASKS</p></div>
                            <span class="text-blue-500 font-black text-xs">Rs. 700</span>
                        </div>
                        <div class="p-4 bg-blue-500/10 rounded-2xl border border-blue-500/20 flex justify-between items-center">
                            <div><p class="text-xs font-black">SILVER</p><p class="text-[8px] opacity-50">20 TASKS</p></div>
                            <span class="text-blue-500 font-black text-xs">Rs. 1500</span>
                        </div>
                        <div class="p-4 bg-amber-500/10 rounded-2xl border border-amber-500/20 flex justify-between items-center">
                            <div><p class="text-xs font-black">DIAMOND</p><p class="text-[8px] opacity-50">30 TASKS</p></div>
                            <span class="text-blue-500 font-black text-xs">Rs. 2500</span>
                        </div>
                    </div>
                    <p class="text-[10px] text-slate-500 mt-8 uppercase">Pay to: 03707340477 (EasyPaisa)</p>
                    <button onclick="window.open('https://wa.me/923096090737')" class="w-full blue-grad py-5 rounded-2xl font-black uppercase text-xs mt-4">Confirm on WhatsApp</button>
                </div>
            </div>

            <div id="view-withdraw" class="view-sec hidden-sec glass p-8 space-y-4">
                <h3 class="text-xs font-black uppercase tracking-widest text-slate-500">Submit Payout</h3>
                <input type="number" id="w-amt" placeholder="Amount (Min 1000)" class="w-full p-5 bg-slate-900 rounded-2xl border border-white/5 outline-none text-xs">
                <button onclick="requestWithdraw()" class="w-full blue-grad py-5 rounded-2xl font-black text-xs uppercase">Request Withdrawal</button>
                <p class="text-[9px] text-center text-slate-600 uppercase">Audit Time: 24 Hours</p>
            </div>

            <div id="view-history" class="view-sec hidden-sec space-y-4">
                <h3 class="text-xs font-black px-2 uppercase text-slate-500">Transaction Record</h3>
                <div class="glass p-12 text-center opacity-30">
                    <i class="fas fa-folder-open text-4xl mb-4"></i>
                    <p class="text-[10px] font-black uppercase">No Data Found</p>
                </div>
            </div>

            <div id="view-settings" class="view-sec hidden-sec glass p-8 space-y-4">
                <h3 class="text-xs font-black uppercase text-slate-500 tracking-widest">Withdrawal Settings</h3>
                <input type="text" id="set-name" placeholder="Account Name" class="w-full p-5 bg-slate-900 rounded-2xl border border-white/5 outline-none text-xs">
                <input type="number" id="set-num" placeholder="Account Number" class="w-full p-5 bg-slate-900 rounded-2xl border border-white/5 outline-none text-xs">
                <button onclick="alert('Secured Successfully!')" class="w-full blue-grad py-5 rounded-2xl font-black text-xs uppercase">Save Securely</button>
            </div>

            <div id="view-privacy" class="view-sec hidden-sec glass p-8 space-y-6">
                <h3 class="font-black text-blue-500 text-sm uppercase">Global User Guide</h3>
                <div class="text-[11px] text-slate-400 space-y-4 leading-relaxed">
                    <p>1. Register with valid Gmail & Password.</p>
                    <p>2. Select Plan (700, 1500, or 2500) and pay to 03707340477.</p>
                    <p>3. Submit proof to WhatsApp 03096090737.</p>
                    <p>4. Daily Tasks reset exactly at 12:00 PM.</p>
                    <p>5. Withdrawals below 1000 will be auto-rejected.</p>
                    <p class="text-red-500 font-bold uppercase border-t border-white/5 pt-4">Complaints: saifullahbk386@gmail.com</p>
                </div>
            </div>
        </main>

        <div id="view-admin" class="view-sec hidden-sec p-6 space-y-6 overflow-y-auto pb-40 h-full">
            <h2 class="text-xl font-black text-blue-500 uppercase">Admin Command Block</h2>
            <div class="glass p-6 space-y-4">
                <h3 class="text-[10px] font-black uppercase opacity-50">Pending Joining Approvals</h3>
                <div id="admin-user-list" class="space-y-3">
                    </div>
            </div>
            <div class="glass p-6">
                <h3 class="text-[10px] font-black uppercase opacity-50 mb-4">Payout Approvals</h3>
                <p class="text-[9px] text-slate-600">No pending withdrawal requests</p>
            </div>
        </div>

        <nav class="fixed bottom-0 w-full bg-slate-950/80 backdrop-blur-xl border-t border-white/5 p-6 flex justify-around z-50">
            <button onclick="nav('home')" class="nav-btn text-blue-500"><i class="fas fa-home text-xl"></i></button>
            <button onclick="nav('task')" class="nav-btn text-slate-600"><i class="fas fa-play-circle text-xl"></i></button>
            <button onclick="nav('settings')" class="nav-btn text-slate-600"><i class="fas fa-user-shield text-xl"></i></button>
        </nav>
    </div>

    <a href="https://wa.me/923096090737" class="fixed bottom-24 right-6 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-2xl z-50 animate-bounce">
        <i class="fab fa-whatsapp text-2xl"></i>
    </a>

    <script>
        let currentUser = null;

        function toggleAuth() {
            const t = document.getElementById('auth-title');
            t.innerText = t.innerText === 'REGISTER' ? 'LOGIN' : 'REGISTER';
            document.getElementById('reg-name').classList.toggle('hidden-sec');
        }

        async function sendOTP() {
            const email = document.getElementById('reg-email').value;
            if(!email.includes('@')) return alert("Enter valid email");
            document.getElementById('auth-box').classList.add('hidden-sec');
            document.getElementById('otp-box').classList.remove('hidden-sec');
        }

        async function finishAuth() {
            // Simulated Success - Link to /api/auth/final in production
            document.getElementById('layer-auth').classList.add('hidden-sec');
            document.getElementById('int-main').classList.remove('hidden-sec');
            currentUser = { email: "user@mail.com", balance: 0, isPaid: false, plan: 'none' };
        }

        function toggleMenu() {
            const m = document.getElementById('side-menu');
            m.style.transform = m.style.transform === 'translateX(0px)' ? 'translateX(-100%)' : 'translateX(0px)';
        }

        function nav(v) {
            document.querySelectorAll('.view-sec').forEach(s => s.classList.add('hidden-sec'));
            document.getElementById('view-' + v).classList.remove('hidden-sec');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.replace('text-blue-500', 'text-slate-600'));
            if(document.getElementById('side-menu').style.transform === 'translateX(0px)') toggleMenu();
        }

        function openAdmin() {
            const secret = prompt("Admin Key:");
            if(secret === "1122") { 
                nav('admin'); 
                loadAdminUsers();
            }
        }

        async function loadAdminUsers() {
            // This would fetch from /api/admin/users
            const list = document.getElementById('admin-user-list');
            list.innerHTML = `<div class="bg-white/5 p-4 rounded-xl flex justify-between items-center">
                <p class="text-xs font-bold">newuser@gmail.com</p>
                <button onclick="approve(700)" class="bg-blue-600 px-3 py-1 rounded text-[9px] font-black uppercase">Approve Basic</button>
            </div>`;
        }

        function requestWithdraw() {
            const val = document.getElementById('w-amt').value;
            if(val < 1000) return alert("Minimum 1000 Required");
            alert("Withdrawal submitted to Admin Block for verification.");
        }
    </script>
</body>
</html>
